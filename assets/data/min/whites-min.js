function getStyle(o){return{weight:2,opacity:.25,color:"#fff",fillOpacity:.7,fillColor:getColor(o.properties.allPopGrowth)}}function getColor(o){return o>.6?"#000":o>.5?"#000":o>.4?"#000":o>.3?"#000":o>.2?"#000":o>.1?"#000":o>.01?"#000":o>.005?"#000":"#750f42"}function onEachFeature(o,r){r.on({mousemove:mousemove,mouseout:mouseout,click:zoomToFeature})}function mousemove(o){var r=o.target;popup.setLatLng(o.latlng),popup.setContent('<div class="marker-title">'+r.feature.properties.name+'</div><div class="alls allPopGrowthWrapper"><span>All Population Growth: </span>'+r.feature.properties.allPopGrowth+'</div><div class="alls allEnrollGrowthWrapper"><span>All Enrollment Growth: </span>'+r.feature.properties.allEnrollGrowth+'</div><div class="whites wPopGrowthWrapper"><span>White Population Growth: </span>'+r.feature.properties.wPopGrowth+'</div><div class="whites wEnrollGrowthWrapper"><span>White Enrollment Growth: </span>'+r.feature.properties.wEnrollGrowth+'</div><div class="blacks bPopGrowthWrapper"><span>Black Population Growth: </span>'+r.feature.properties.bPopGrowth+'</div><div class="blacks bEnrollGrowthWrapper"><span>Black Enrollment Growth: </span>'+r.feature.properties.bEnrollGrowth+'</div><div class="hispanics hPopGrowthWrapper"><span>Hispanic Population Growth: </span>'+r.feature.properties.hPopGrowth+'</div><div class="hispanics hEnrollGrowthWrapper"><span>Hispanic Enrollment Growth: </span>'+r.feature.properties.hEnrollGrowth+'</div><div class="asians asPopGrowthWrapper"><span>Asian Population Growth: </span>'+r.feature.properties.asPopGrowth+'</div><div class="asians asEnrollGrowthWrapper"><span>Asian Enrollment Growth: </span>'+r.feature.properties.asEnrollGrowth+"</div>"),popup._map||popup.openOn(map),window.clearTimeout(closeTooltip),r.setStyle({weight:1,opacity:.1,fillOpacity:.9}),L.Browser.ie||L.Browser.opera||r.bringToFront()}function mouseout(o){statesLayer.resetStyle(o.target),closeTooltip=window.setTimeout(function(){},100)}function zoomToFeature(o){map.fitBounds(o.target.getBounds())}var map=L.mapbox.map("map","edgarr.iig85lao").setView([37.8,-96],4);map.gridControl.options.follow=!0;var popup=new L.Popup({autoPan:!1}),statesLayer=L.geoJson(statesData,{style:getStyle,onEachFeature:onEachFeature}).addTo(map),closeTooltip;