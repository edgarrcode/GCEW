function getStyle(o){return{weight:2,opacity:.25,color:"#fff",fillOpacity:.7,fillColor:getColor(o.properties.allPopGrowth)}}function getColor(o){return o>.6?"#fb017e":o>.5?"#ee0f7f":o>.4?"#de1178":o>.3?"#d10a6d":o>.2?"#c00965":o>.1?"#ae075a":o>.01?"#9b0851":o>.005?"#860f4b":"#750f42"}function onEachFeature(o,e){e.on({mousemove:mousemove,mouseout:mouseout,click:zoomToFeature})}function mousemove(o){var e=o.target;popup.setLatLng(o.latlng),popup.setContent('<div class="marker-title">'+e.feature.properties.name+'</div><div class="alls allPopGrowthWrapper"><span>All Population Growth: </span>'+e.feature.properties.allPopGrowth+'</div><div class="alls allEnrollGrowthWrapper"><span>All Enrollment Growth: </span>'+e.feature.properties.allEnrollGrowth+'</div><div class="whites wPopGrowthWrapper"><span>White Population Growth: </span>'+e.feature.properties.wPopGrowth+'</div><div class="whites wEnrollGrowthWrapper"><span>White Enrollment Growth: </span>'+e.feature.properties.wEnrollGrowth+'</div><div class="blacks bPopGrowthWrapper"><span>Black Population Growth: </span>'+e.feature.properties.bPopGrowth+'</div><div class="blacks bEnrollGrowthWrapper"><span>Black Enrollment Growth: </span>'+e.feature.properties.bEnrollGrowth+'</div><div class="hispanics hPopGrowthWrapper"><span>Hispanic Population Growth: </span>'+e.feature.properties.hPopGrowth+'</div><div class="hispanics hEnrollGrowthWrapper"><span>Hispanic Enrollment Growth: </span>'+e.feature.properties.hEnrollGrowth+'</div><div class="asians asPopGrowthWrapper"><span>Asian Population Growth: </span>'+e.feature.properties.asPopGrowth+'</div><div class="asians asEnrollGrowthWrapper"><span>Asian Enrollment Growth: </span>'+e.feature.properties.asEnrollGrowth+"</div>"),popup._map||popup.openOn(map),window.clearTimeout(closeTooltip),e.setStyle({weight:1,opacity:.1,fillOpacity:.9}),L.Browser.ie||L.Browser.opera||e.bringToFront()}function mouseout(o){statesLayer.resetStyle(o.target),closeTooltip=window.setTimeout(function(){},100)}function zoomToFeature(o){map.fitBounds(o.target.getBounds())}var map=L.mapbox.map("map","edgarr.iig85lao").setView([37.8,-96],4);map.gridControl.options.follow=!0;var popup=new L.Popup({autoPan:!0}),statesLayer=L.geoJson(statesData,{style:getStyle,onEachFeature:onEachFeature}).addTo(map),closeTooltip;